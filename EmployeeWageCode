console.log("Welcome to Employee Wage Problem Using Js!!!!!");

const Is_Absent = 0;
const Is_Present = 1;
const Is_PartTime = 0;
const Is_FullTime = 2;
const Part_Time_Hrs = 4;
const Full_Time_Hrs = 8;
const Wage_Per_Hour = 20;
const TotalWorkingDays = 20;
const MaxHrsInMonth = 160;
let dailyDataArr = [];

function calculateDailyWage(empHrs) {
  return empHrs * Wage_Per_Hour;
}

function getWorkHrs(jobType) {
  switch (jobType) {
    case Is_PartTime:
      return Part_Time_Hrs;
    case Is_FullTime:
      return Full_Time_Hrs;
    default:
      return 0;
  }
}

let empcheck = Math.floor(Math.random() * 10) % 2;
if (empcheck == Is_Absent) {
  console.log("Employee is Absent");
} else {
  console.log("Employee is Present");

  let empHrs = 0,
    totalEmpHrs = 0;
  let workingDays = 0;

  while (workingDays < TotalWorkingDays && totalEmpHrs < MaxHrsInMonth) {
    workingDays++;
    let empType = Math.floor(Math.random() * 10) % 2;
    empHrs = getWorkHrs(empType);
    totalEmpHrs += empHrs;

    let empWage = calculateDailyWage(empHrs);

    let dailyData = {
      day: workingDays,
      hoursWorked: empHrs,
      wageEarned: empWage,
    };
    dailyDataArr.push(dailyData);
  }

  const calcTotalWage = () =>
    dailyDataArr.reduce((total, data) => total + data.wageEarned, 0);
  const calcTotalHours = () =>
    dailyDataArr.reduce((total, data) => total + data.hoursWorked, 0);
  const countFullWorkingDays = () =>
    dailyDataArr.filter((data) => data.hoursWorked === Full_Time_Hrs).length;
  const countPartWorkingDays = () =>
    dailyDataArr.filter((data) => data.hoursWorked === Part_Time_Hrs).length;
  const countNoWorkingDays = () =>
    TotalWorkingDays - countFullWorkingDays() - countPartWorkingDays();

  console.log("Day-wise data:");
  for (let data of dailyDataArr) {
    console.log(
      "Day",
      data.day,
      "- Hours Worked:",
      data.hoursWorked,
      "- Wage:",
      data.wageEarned
    );
  }

  console.log("Total working hours:", calcTotalHours());
  console.log("Total wages per month:", calcTotalWage());
  console.log("Full working days:", countFullWorkingDays());
  console.log("Part working days:", countPartWorkingDays());
  console.log("No working days:", countNoWorkingDays());
}
